{% set deployment = env['deployment'] %}
{% set project = env['project'] %}
{% set projectNumber = env['project_number'] %}
{% set zone = properties['zone'] %}
{% set licenseKey = properties['licenseKey'] %}
{% set metaNodeMachineType = properties['metaNodeMachineType'] %}
{% set metaNodeDiskSizeGb = properties['metaNodeDiskSizeGb'] %}
{% set dataNodeMachineType = properties['dataNodeMachineType'] %}
{% set dataNodeDiskSizeGb = properties['dataNodeDiskSizeGb'] %}


resources:
- name: meta-nodes
  type: meta-node.jinja
  metadata:
    zone: {% zone %}
    licenseKey: {% licenseKey %}
    metaNodeMachineType: {% metaNodeMachineType %}
    metaNodeDiskSizeGb: {% metaNodeDiskSizeGb %}
    startupScripts:
      - setup-common.sh
      - setup-meta.sh

- name: data-nodes
  type: data-node.jinja
  metadata:
    zone: {% zone %}
    licenseKey: {% licenseKey %}
    dataNodeMachineType: {% dataNodeMachineType %}
    dataNodeDiskSizeGb: {% dataNodeDiskSizeGb %}
    startupScripts:
      - setup-common.sh
      - setup-data.sh

- name: runtime-config
  type: runtime-config.jinja

# outputs:
# - name: cluster1-server-AdminUrl
#   value: http://$(ref.deployment.externalIp-cluster1-group1):8091/
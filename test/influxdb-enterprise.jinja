{% set deployment = env['deployment'] %}
{% set project = env['project'] %}
{% set projectNumber = env['project_number'] %}
{% set zone = properties['zone'] %}
{% set licenseKey = properties['licenseKey'] %}
{% set metaNodeMachineType = properties['metaNodeMachineType'] %}
{% set metaNodeDiskSizeGb = properties['metaNodeDiskSizeGb'] %}
{% set dataNodeMachineType = properties['dataNodeMachineType'] %}
{% set dataNodeDiskSizeGb = properties['dataNodeDiskSizeGb'] %}


resources:
- name: {{ deployment }}-meta-nodes
  type: meta-node.jinja
  metadata:
    zone: {{ zone }}
    licenseKey: {{ licenseKey }}
    metaNodeMachineType: {{ metaNodeMachineType }}
    metaNodeDiskSizeGb: {{ metaNodeDiskSizeGb }}
    startupScripts:
      - setup-common.sh
      - setup-data.sh

- name: {{ deployment }}-data-nodes
  type: data-node.jinja
  metadata:
    zone: {{ zone }}
    licenseKey: {{ licenseKey }}
    dataNodeMachineType: {{ dataNodeMachineType }}
    dataNodeDiskSizeGb: {{ dataNodeDiskSizeGb }}
    startupScripts:
      - setup-common.sh
      - setup-data.sh

- name: {{ deployment }}-runtime-config
  type: runtime-config.jinja
